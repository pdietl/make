#                                                                    -*-perl-*-

use Math::BigInt;

$description = "Test the add function.\n";

$details = "Try various uses of add and ensure they all give the correct
results.\n";


$llong_max = get_config('LONG_LONG_INT_MAX');
$llong_min = get_config('LONG_LONG_INT_MIN');

run_make_test('# Identity
.RECIPEPREFIX = >
all:
> @echo 0_1 $(add 0)
> @echo 0_2 $(add 1)
> @echo 0_3 $(add -4)
> @echo 0_4 $(add ' . $llong_min . ')
> @echo 0_5 $(add ' . $llong_max . ')
', '', '0_1 0
0_2 1
0_3 -4
0_4 ' . $llong_min . '
0_5 ' . $llong_max . '
');

run_make_test('# Positive addition
.RECIPEPREFIX = >
all:
> @echo 0_1 $(add 0,1)
> @echo 0_2 $(add 1,0)
> @echo 0_3 $(add 1, 2,   3,4)
> @echo 0_4 $(add ' . $llong_min . ',1)
', '', '0_1 1
0_2 1
0_3 10
0_4 ' . Math::BigInt->new($llong_min)->badd(1)->bstr() . '
');

1;
